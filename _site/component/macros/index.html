<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
        <link rel="shortcut icon" href="/component-library/assets/img/favicon.ico" type="image/x-icon">
        <link rel="apple-touch-icon" href="/component-library/assets/img/apple-touch-icon.ico" type="image/x-icon">

        <title>Objectiv Component Library</title>

        <link rel="stylesheet" href="/component-library/assets/css/main.css">
        <link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic|PT+Mono&amp;subset=latin,cyrillic">

        <script type="text/javascript" src="//use.typekit.net/xqd0gpb.js"></script>
        <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
        <!-- Google Analytics to go here -->
    </head>
    <body class="page-component">
        <div class="SiteContainer">
            <nav class="SiteNav">
                <div class="Logo">
                    <a href="/component-library/">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 288 69.08"><defs><style>.a{fill:#fff;}</style></defs><title>objectiv-wordmark-white-fill</title><path class="a" d="M81.5,17.31a19.44,19.44,0,0,0-8.06-1.86c-4.27,0-8.14,1.17-11.1,4.34V4H50.89V55h11V50.95H62c2,3.72,7,5.38,11,5.38,11.93,0,19.3-9.17,19.3-20.68C92.25,27.72,88.87,20.75,81.5,17.31ZM71.22,45.64c-5.58,0-9.31-4.41-9.31-9.86a9.45,9.45,0,1,1,18.89.07A9.52,9.52,0,0,1,71.22,45.64Z"/><path class="a" d="M98.81,53.74c0,3-.21,5.79-4.07,5.79H93.22v9.55h2.83c11.17,0,14.2-4.34,14.2-14.89V16.75H98.81Z"/><path class="a" d="M137.07,15.44C125.83,15.44,117,24.89,117,36a20.3,20.3,0,0,0,20.27,20.27c8.62,0,15.37-5.58,18.68-13.24H144.24a8.21,8.21,0,0,1-7,3.59c-4.48,0-8.27-2.69-9-7.24H157a15,15,0,0,0,.28-3C157.27,24.82,148.79,15.44,137.07,15.44Zm-8.62,16.2c.9-4.14,4.55-6.55,8.69-6.55s7.79,2.41,8.69,6.55Z"/><path class="a" d="M182.37,45.57c-5.58,0-9.1-4.34-9.1-9.72,0-5.17,3.31-9.72,8.82-9.72a8.81,8.81,0,0,1,8.55,5.38h11.58c-2-9.72-10.48-16.06-20.27-16.06a20.08,20.08,0,0,0-20.2,20.34,20.55,20.55,0,0,0,40.54,4.69H190.64A8.8,8.8,0,0,1,182.37,45.57Z"/><polygon class="a" points="222.29 4 210.85 4 210.85 16.75 205.2 16.75 205.2 25.76 210.85 25.76 210.85 55.02 222.29 55.02 222.29 25.76 227.81 25.76 227.81 16.75 222.29 16.75 222.29 4"/><rect class="a" x="232.78" y="16.75" width="11.44" height="38.26"/><polygon class="a" points="276.14 16.75 268.83 40.61 268.7 40.61 261.39 16.75 249.53 16.75 263.25 55.02 274.21 55.02 288 16.75 276.14 16.75"/><circle class="a" cx="104.53" cy="6.45" r="6.45"/><circle class="a" cx="238.5" cy="6.45" r="6.45"/><path class="a" d="M18.72,3A26.39,26.39,0,0,0,0,10.79l8.39,8.39A14.6,14.6,0,1,1,29,39.83l8.39,8.39A26.47,26.47,0,0,0,18.72,3Z"/><path class="a" d="M4.12,29.51A14.6,14.6,0,0,0,29,39.83L8.39,19.18A14.56,14.56,0,0,0,4.12,29.51Z"/></svg>
                    </a>
                </div>
                <h1 class="screen-reader-text">Objectiv Component Library</h1>
                <aside>
                    <div class="CategoryLinks">
                    
                        <div class="CategoryLink">
                            <h4>UI</h4>
                            <ul class="ComponentList">
                                
                                    
                                        <li class="ComponentList-item"><a href="/component-library/component/accordion/index.html">Accordion</a></li>
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        <li class="ComponentList-item"><a href="/component-library/component/tabs/index.html">Tabs</a></li>
                                    
                                
                                    
                                
                            </ul>
                        </div>
                    
                        <div class="CategoryLink">
                            <h4>Navigation</h4>
                            <ul class="ComponentList">
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                            </ul>
                        </div>
                    
                        <div class="CategoryLink">
                            <h4>Content</h4>
                            <ul class="ComponentList">
                                
                                    
                                
                                    
                                        <li class="ComponentList-item"><a href="/component-library/component/blogpost/index.html">Blog Post</a></li>
                                    
                                
                                    
                                        <li class="ComponentList-item"><a href="/component-library/component/blogroll/index.html">Blog Roll</a></li>
                                    
                                
                                    
                                
                                    
                                        <li class="ComponentList-item"><a href="/component-library/component/property/index.html">Property</a></li>
                                    
                                
                                    
                                
                                    
                                        <li class="ComponentList-item"><a href="/component-library/component/testimonial/index.html">Testimonial</a></li>
                                    
                                
                            </ul>
                        </div>
                    
                        <div class="CategoryLink">
                            <h4>Twig</h4>
                            <ul class="ComponentList">
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                        <li class="ComponentList-item"><a href="/component-library/component/macros/index.html">Macros</a></li>
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                            </ul>
                        </div>
                    
                </aside>
            </nav>
            <main class="SiteContent">
                <div class="Component">
	
		<h1>Macros</h1>
	
	
	<p>We love Twig and have created a few Macros that help make things a bit easier for us. One thing to note when working with Macros and Twig is that you need to import the macro everywhere you need it. If you use an <code class="highlighter-rouge">embed</code> or <code class="highlighter-rouge">block</code> within your Twig file, you need to call the Macro import within that <code class="highlighter-rouge">embed</code> or <code class="highlighter-rouge">block</code>. You can’t add a macro import at the top of the file and expect to use it wherever.</p>

<p>By the way, all of this is built into the <a href="https://github.com/Objectivco/objectiv-starter-theme">starter theme</a> already.</p>

<nav class="PageNav">
    <a href="#responsive-images">Responsive Images</a>
    <a href="#svg-icons">SVG Icons</a>
</nav>

<h2 id="classes">Classes</h2>
<p>We utilize this Macro within the Image and SVG Icons Macros. It takes an array of classes and outputs them appropriately in the Macros.</p>

<div class="language-twig highlighter-rouge"><pre class="highlight"><code><span class="cp">{%</span> <span class="k">import</span> <span class="s1">'_macros/_classAttr.twig'</span> <span class="k">as</span> <span class="nv">m_classAttr</span> <span class="cp">%}</span>
<span class="cp">{{</span><span class="nv">m_classAttr.classAttr</span><span class="p">(</span><span class="s1">'className'</span><span class="p">)</span><span class="cp">}}</span>
</code></pre>
</div>

<h4 id="macro">Macro</h4>
<div class="language-twig highlighter-rouge"><pre class="highlight"><code><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">classAttr</span><span class="p">(</span><span class="nv">classes</span><span class="p">)</span> <span class="cp">%}</span>
    <span class="cp">{%</span><span class="o">-</span> <span class="k">if</span> <span class="p">(</span><span class="nv">classes</span><span class="o">|</span><span class="nf">length</span><span class="p">)</span> <span class="o">-</span><span class="cp">%}</span>
        class="<span class="cp">{{</span> <span class="nv">classes</span><span class="o">|</span><span class="nf">join</span><span class="p">(</span><span class="s1">' '</span><span class="p">)</span> <span class="cp">}}</span>"
    <span class="cp">{%</span><span class="o">-</span> <span class="k">endif</span> <span class="o">-</span><span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span>
</code></pre>
</div>

<h2 id="responsive-images">Responsive Images</h2>
<p>If you need to work with responsive images use our nifty responsive macro. You can create fixed width images that will generate retina read markup or variable width images with multiple src sets.</p>

<h3 id="fixed-width-images">Fixed Width Images</h3>
<p>This macro takes 3 parameters:</p>

<ol>
  <li>Integer: Image’s ID</li>
  <li>Integer: The width that you want the image to be displayed in</li>
  <li>Object: Object that takes an alt and class value for outputting the markup</li>
</ol>

<div class="language-twig highlighter-rouge"><pre class="highlight"><code><span class="cp">{%</span> <span class="k">import</span> <span class="s1">'_macros/_img.twig'</span> <span class="k">as</span> <span class="nv">m_img</span> <span class="cp">%}</span>
<span class="cp">{{</span><span class="nv">m_img.fixed</span><span class="p">(</span><span class="nv">imageId</span><span class="p">,</span> <span class="nv">100</span><span class="p">,</span> <span class="err">{</span><span class="nv">alt</span><span class="err">:</span> <span class="s1">'post thumbnail'</span><span class="p">,</span> <span class="nv">class</span><span class="err">:</span> <span class="p">[</span><span class="s1">'fixed'</span><span class="p">]</span><span class="err">}</span><span class="p">)</span><span class="cp">}}</span>
</code></pre>
</div>

<h4 id="macro-1">Macro</h4>
<div class="language-twig highlighter-rouge"><pre class="highlight"><code><span class="c">{# Create a fixed width responsive image #}</span>
<span class="cp">{%</span> <span class="k">macro</span> <span class="nv">fixed</span><span class="p">(</span><span class="nv">assetId</span><span class="p">,</span> <span class="nv">width</span><span class="p">,</span> <span class="nv">options</span><span class="err">={}</span><span class="p">)</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">import</span> <span class="s1">'_macros/_classAttr.twig'</span> <span class="k">as</span> <span class="nv">m_classAttr</span> <span class="cp">%}</span>
    
    <span class="c">{# merge the options with the options parameter #}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">options</span> <span class="err">=</span> <span class="err">{</span>
        <span class="nv">alt</span><span class="err">:</span> <span class="s1">'alt'</span><span class="p">,</span>
        <span class="nv">class</span><span class="err">:</span> <span class="p">[]</span>
    <span class="err">}</span> <span class="err">|</span> <span class="nv">merge</span><span class="p">(</span><span class="nv">options</span><span class="p">)</span> <span class="cp">%}</span>

    <span class="c">{# Get the asset meta data from WP #}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">assetArray</span> <span class="err">=</span> <span class="nv">function</span><span class="p">(</span><span class="s1">'wp_get_attachment_image_src'</span><span class="p">,</span> <span class="nv">assetId</span><span class="p">,</span> <span class="s1">'full'</span><span class="p">)</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">assetUrl</span> <span class="err">=</span> <span class="nv">assetArray</span><span class="p">[</span><span class="nv">0</span><span class="p">]</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">assetMetaData</span> <span class="err">=</span> <span class="nv">function</span><span class="p">(</span><span class="s1">'wp_get_attachment_metadata'</span><span class="p">,</span> <span class="nv">assetId</span><span class="p">)</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">assetNativeWidth</span> <span class="err">=</span> <span class="nv">assetMetaData.width</span> <span class="cp">%}</span>
    

    <span class="nt">&lt;img</span>
        <span class="cp">{%</span> <span class="k">if</span> <span class="p">(</span><span class="nv">assetNativeWidth</span> <span class="o">&lt;=</span> <span class="nv">width</span><span class="p">)</span> <span class="cp">%}</span>
            <span class="na">src=</span><span class="s">"</span><span class="cp">{{</span><span class="nv">assetUrl</span><span class="cp">}}</span><span class="s">"</span>
        <span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
            <span class="na">src=</span><span class="s">"</span><span class="cp">{{</span><span class="nv">assetUrl</span><span class="o">|</span><span class="nf">resize</span><span class="p">(</span><span class="nv">width</span><span class="p">)</span><span class="cp">}}</span><span class="s">"</span>
        <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

        <span class="cp">{%</span> <span class="k">if</span> <span class="p">(</span><span class="nv">width</span><span class="o">*</span><span class="nv">2</span> <span class="o">==</span> <span class="nv">assetNativeWidth</span><span class="p">)</span> <span class="cp">%}</span>
            <span class="na">srcset=</span><span class="s">"</span><span class="cp">{{</span><span class="nv">assetUrl</span><span class="cp">}}</span><span class="s"> 2x"</span>
        <span class="cp">{%</span> <span class="nv">elseif</span> <span class="p">(</span><span class="nv">width</span><span class="o">*</span><span class="nv">2</span> <span class="o">&lt;</span> <span class="nv">assetNativeWidth</span><span class="p">)</span> <span class="cp">%}</span>
            <span class="na">srcset=</span><span class="s">"</span><span class="cp">{{</span><span class="nv">assetUrl</span><span class="o">|</span><span class="nf">resize</span><span class="p">(</span><span class="nv">width</span><span class="o">*</span><span class="nv">2</span><span class="p">)</span><span class="cp">}}</span><span class="s"> 2x"</span>
        <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

        <span class="na">alt=</span><span class="s">"</span><span class="cp">{{</span><span class="nv">options.alt</span><span class="cp">}}</span><span class="s">"</span>
        <span class="cp">{{</span><span class="nv">m_classAttr.classAttr</span><span class="p">(</span><span class="nv">options.class</span><span class="p">)</span><span class="cp">}}</span>
    <span class="nt">/&gt;</span>

<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span>
</code></pre>
</div>

<h3 id="responsive-image">Responsive Image</h3>
<p>This macro takes 3 parameters:</p>

<ol>
  <li>Integer: Image’s ID</li>
  <li>Integer: The width that you want the image to be displayed in</li>
  <li>Object: Object that takes an alt and class value for outputting the markup</li>
</ol>

<div class="language-twig highlighter-rouge"><pre class="highlight"><code><span class="cp">{%</span> <span class="k">import</span> <span class="s1">'_macros/_img.twig'</span> <span class="k">as</span> <span class="nv">m_img</span> <span class="cp">%}</span>
<span class="cp">{{</span><span class="nv">m_img.responsive</span><span class="p">(</span><span class="nv">imageId</span><span class="p">,</span> <span class="err">{</span><span class="nv">alt</span><span class="err">:</span> <span class="s1">'post thumbnail'</span><span class="p">,</span> <span class="nv">class</span><span class="err">:</span> <span class="p">[</span><span class="s1">'responsive'</span><span class="p">]</span><span class="err">}</span><span class="p">)</span><span class="cp">}}</span>
</code></pre>
</div>

<h4 id="macro-2">Macro</h4>
<div class="language-twig highlighter-rouge"><pre class="highlight"><code><span class="c">{# Create a variable width responsive image #}</span>
<span class="cp">{%</span> <span class="k">macro</span> <span class="nv">responsive</span><span class="p">(</span><span class="nv">assetId</span><span class="p">,</span> <span class="nv">options</span><span class="err">={}</span><span class="p">)</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">import</span> <span class="s1">'_macros/_classAttr.twig'</span> <span class="k">as</span> <span class="nv">m_classAttr</span> <span class="cp">%}</span>
    <span class="c">{# merge the options with options parameter #}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">options</span> <span class="err">=</span> <span class="err">{</span>
        <span class="nv">alt</span><span class="err">:</span> <span class="s1">'alt'</span><span class="p">,</span>
        <span class="nv">class</span><span class="err">:</span> <span class="p">[],</span>
        <span class="nv">style</span><span class="err">:</span> <span class="s1">'default'</span><span class="p">,</span>
    <span class="err">}</span> <span class="err">|</span> <span class="nv">merge</span><span class="p">(</span><span class="nv">options</span><span class="p">)</span> <span class="cp">%}</span>

    <span class="c">{# Get the asset meta data from WP #}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">assetArray</span> <span class="err">=</span> <span class="nv">function</span><span class="p">(</span><span class="s1">'wp_get_attachment_image_src'</span><span class="p">,</span> <span class="nv">assetId</span><span class="p">,</span> <span class="s1">'full'</span><span class="p">)</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">assetUrl</span> <span class="err">=</span> <span class="nv">assetArray</span><span class="p">[</span><span class="nv">0</span><span class="p">]</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">assetMetaData</span> <span class="err">=</span> <span class="nv">function</span><span class="p">(</span><span class="s1">'wp_get_attachment_metadata'</span><span class="p">,</span> <span class="nv">assetId</span><span class="p">)</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">assetNativeWidth</span> <span class="err">=</span> <span class="nv">assetMetaData.width</span> <span class="cp">%}</span>

    <span class="c">{# Image Config
     </span><span class="err">#</span><span class="c"> Make sure to update the configs to what fits for each site.
     #}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">config</span> <span class="err">=</span> <span class="err">{</span>
        <span class="nv">default</span><span class="err">:</span> <span class="err">{</span>
            <span class="nv">srcsetWidths</span><span class="err">:</span> <span class="p">[</span><span class="nv">640</span><span class="p">,</span> <span class="nv">1024</span><span class="p">,</span> <span class="nv">1600</span><span class="p">],</span>
            <span class="nv">sizes</span><span class="err">:</span> <span class="p">[</span>
                <span class="s1">'(min-width: 900px) 1025px'</span><span class="p">,</span>
                <span class="s1">'100vw'</span>
            <span class="p">],</span>
            <span class="nv">defaultWidth</span><span class="err">:</span> <span class="nv">1024</span>
        <span class="err">}</span>
    <span class="err">}</span> <span class="cp">%}</span>

    <span class="c">{# Let's get the style that is sent through as parameter #}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">params</span> <span class="err">=</span> <span class="nv">config</span><span class="p">[</span><span class="nv">options.style</span><span class="p">]</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">srcset</span> <span class="err">=</span> <span class="p">[]</span> <span class="cp">%}</span>

    <span class="c">{# Create the srcset #}</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">width</span> <span class="ow">in</span> <span class="nv">params</span><span class="p">[</span><span class="s1">'srcsetWidths'</span><span class="p">]</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">set</span> <span class="nv">srcset</span> <span class="err">=</span> <span class="nv">srcset</span><span class="o">|</span><span class="nf">merge</span><span class="p">([</span><span class="nv">assetUrl</span><span class="o">|</span><span class="nf">resize</span><span class="p">(</span><span class="nv">width</span><span class="p">)</span> <span class="err">~</span> <span class="s1">' '</span> <span class="err">~</span> <span class="nv">width</span> <span class="err">~</span> <span class="s1">'w'</span><span class="p">])</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>

    <span class="nt">&lt;img</span> 
        <span class="cp">{%</span> <span class="k">if</span> <span class="p">(</span><span class="nv">assetNativeWidth</span> <span class="o">&lt;=</span> <span class="nv">params</span><span class="p">[</span><span class="s1">'defaultWidth'</span><span class="p">])</span> <span class="cp">%}</span>
            <span class="na">src=</span><span class="s">"</span><span class="cp">{{</span><span class="nv">assetUrl</span><span class="cp">}}</span><span class="s">"</span>
        <span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
            <span class="na">src=</span><span class="s">"</span><span class="cp">{{</span><span class="nv">assetUrl</span><span class="o">|</span><span class="nf">resize</span><span class="p">(</span><span class="nv">width</span><span class="p">)</span><span class="cp">}}</span><span class="s">"</span>
        <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>

        <span class="na">srcset=</span><span class="s">"</span><span class="cp">{{</span><span class="nv">srcset</span><span class="o">|</span><span class="nf">join</span><span class="p">(</span><span class="s1">', '</span><span class="p">)</span><span class="cp">}}</span><span class="s">"</span>
        <span class="na">sizes=</span><span class="s">"</span><span class="cp">{{</span><span class="nv">params</span><span class="p">[</span><span class="s1">'sizes'</span><span class="p">]</span><span class="o">|</span><span class="nf">join</span><span class="p">(</span><span class="s1">', '</span><span class="p">)</span><span class="cp">}}</span><span class="s">"</span>

        <span class="na">alt=</span><span class="s">"</span><span class="cp">{{</span><span class="nv">options.alt</span><span class="cp">}}</span><span class="s">"</span>

        <span class="cp">{{</span><span class="nv">m_classAttr.classAttr</span><span class="p">(</span><span class="nv">options.class</span><span class="p">)</span><span class="cp">}}</span>
    <span class="nt">/&gt;</span>

<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span>
</code></pre>
</div>

<h2 id="svg-icons">SVG Icons</h2>
<p>Just like the image macro the SVG macro will output an inline SVG element for you. There are a few requirements to use this macro. You must compile all of your SVG files into a single SVG sprite file with specific ID for each single SVG Icon. We use IcoMoon to generate our SVG icons store them in a directory within the theme and then use Gulp to generate the sprite for us.</p>

<p>The SVG Macro takes an object as its parameter with the required key value of <code class="highlighter-rouge">icon</code> with the file name of the SVG icon passed through as the value.</p>

<div class="language-twig highlighter-rouge"><pre class="highlight"><code><span class="cp">{%</span> <span class="k">import</span> <span class="s1">'_macros/_svg.twig'</span> <span class="k">as</span> <span class="nv">m_svg</span> <span class="cp">%}</span>
<span class="cp">{{</span><span class="nv">m_svg.svg</span><span class="p">(</span><span class="err">{</span><span class="nv">icon</span><span class="err">:</span> <span class="s1">'facebook-square'</span><span class="p">,</span> <span class="nv">title</span><span class="err">:</span> <span class="s1">'Facebook'</span><span class="p">,</span> <span class="nv">desc</span><span class="err">:</span> <span class="s1">'Facebook Icon'</span><span class="err">}</span><span class="p">)</span><span class="cp">}}</span>
</code></pre>
</div>

<h4 id="macro-3">Macro</h4>
<div class="language-twig highlighter-rouge"><pre class="highlight"><code><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">svg</span><span class="p">(</span><span class="nv">options</span><span class="err">={}</span><span class="p">)</span> <span class="cp">%}</span>
    <span class="c">{# merge the options with passed in options #}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">options</span> <span class="err">=</span> <span class="err">{</span>
        <span class="nv">icon</span><span class="err">:</span> <span class="s1">'facebook-square'</span><span class="p">,</span>
        <span class="nv">title</span><span class="err">:</span> <span class="s1">'Facebook'</span><span class="p">,</span>
        <span class="nv">desc</span><span class="err">:</span> <span class="s1">''</span>
    <span class="err">}</span> <span class="err">|</span> <span class="nv">merge</span><span class="p">(</span><span class="nv">options</span><span class="p">)</span> <span class="cp">%}</span>

    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">title</span> <span class="err">=</span> <span class="nv">options.title</span> <span class="err">?</span> <span class="nv">options.title</span> <span class="err">:</span> <span class="nv">options.icon</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">ariaHidden</span> <span class="err">=</span> <span class="s1">' aria-hidden="true"'</span> <span class="cp">%}</span>

    <span class="nt">&lt;svg</span> <span class="na">class=</span><span class="s">"icon icon-</span><span class="cp">{{</span><span class="nv">options.icon</span><span class="cp">}}</span><span class="s">"</span> <span class="cp">{{</span><span class="nv">ariaHidden</span><span class="cp">}}</span> <span class="na">role=</span><span class="s">"img"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;title&gt;</span><span class="cp">{{</span><span class="nv">options.title</span><span class="cp">}}</span><span class="nt">&lt;/title&gt;</span>
        <span class="cp">{%</span> <span class="k">if</span> <span class="nv">options.desc</span> <span class="cp">%}</span>
            <span class="nt">&lt;desc&gt;</span><span class="cp">{{</span><span class="nv">options.desc</span><span class="cp">}}</span><span class="nt">&lt;/desc&gt;</span>
        <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
        <span class="nt">&lt;use</span> <span class="na">xlink:href=</span><span class="s">"#icon-</span><span class="cp">{{</span><span class="nv">options.icon</span><span class="cp">}}</span><span class="s">"</span><span class="nt">&gt;&lt;/use&gt;</span>
    <span class="nt">&lt;/svg&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span>
</code></pre>
</div>

<h4 id="gulp">Gulp</h4>
<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'gulp'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">svgmin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span> <span class="s1">'gulp-svgmin'</span> <span class="p">);</span>
<span class="kd">var</span> <span class="nx">svgstore</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span> <span class="s1">'gulp-svgstore'</span> <span class="p">);</span>
<span class="kd">var</span> <span class="nx">del</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span> <span class="s1">'del'</span> <span class="p">);</span>
<span class="kd">var</span> <span class="nx">cheerio</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span> <span class="s1">'gulp-cheerio'</span> <span class="p">);</span>

<span class="cm">/**
 * Task to concat and compile svg into a single file
 */</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">'svg'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">'assets/icons/svg-icons/*.svg'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">svgmin</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rename</span><span class="p">({</span><span class="na">prefix</span><span class="p">:</span> <span class="s1">'icon-'</span><span class="p">}))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">svgstore</span><span class="p">({</span><span class="na">inlineSvg</span><span class="p">:</span> <span class="kc">true</span><span class="p">}))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">cheerio</span><span class="p">({</span>
            <span class="na">run</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">,</span> <span class="nx">file</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">$</span><span class="p">(</span><span class="s1">'svg'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'style'</span><span class="p">,</span> <span class="s1">'display: none'</span><span class="p">);</span>
                <span class="nx">$</span><span class="p">(</span><span class="s1">'[fill]'</span><span class="p">).</span><span class="nx">removeAttr</span><span class="p">(</span><span class="s1">'fill'</span><span class="p">);</span>
                <span class="nx">$</span><span class="p">(</span><span class="s1">'path'</span><span class="p">).</span><span class="nx">removeAttr</span><span class="p">(</span><span class="s1">'class'</span><span class="p">);</span>
            <span class="p">},</span>
            <span class="na">parserOptions</span><span class="p">:</span> <span class="p">{</span><span class="na">xmlMode</span><span class="p">:</span> <span class="kc">true</span><span class="p">}</span>
        <span class="p">}))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">'assets/icons'</span><span class="p">))</span>
<span class="p">})</span>

<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span> <span class="s1">'icons'</span><span class="p">,</span> <span class="p">[</span> <span class="s1">'svg'</span> <span class="p">]</span> <span class="p">);</span>
</code></pre>
</div>


</div>

            </main>
        </div>
        <script src="/component-library/assets/js/main.js"></script>
    </body>
</html>
